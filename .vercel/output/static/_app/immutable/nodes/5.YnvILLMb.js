import"../chunks/DsnmJJEf.js";import"../chunks/CjZ9RPhr.js";import{o as P}from"../chunks/i-GTZLgc.js";import{a0 as x,a4 as d,a as i,a6 as L,a8 as R,a1 as e,a7 as p,aa as m,h as f,ab as u,c as S,f as $,a9 as h,a5 as z}from"../chunks/jhiWsoka.js";import{s as C,e as E}from"../chunks/DLQm8ORK.js";import{i as b}from"../chunks/XCZn0Ggh.js";import{h as F}from"../chunks/CkK9_Aa6.js";import{i as M}from"../chunks/CC58nC6b.js";import{g}from"../chunks/4T6_tg55.js";import{a as N}from"../chunks/BOdw2JvJ.js";var U=d('<div class="loading svelte-7akrql"><div class="spinner svelte-7akrql"></div> <h2 class="svelte-7akrql">Authenticating with GitHub...</h2> <p class="svelte-7akrql">Please wait while we complete your sign-in.</p></div>'),j=d('<div class="error svelte-7akrql"><h2 class="svelte-7akrql">Authentication Failed</h2> <p class="svelte-7akrql"> </p> <button class="btn-primary svelte-7akrql">Return to Home</button></div>'),B=d('<div class="callback-container svelte-7akrql"><!></div>');function Y(k,_){x(_,!1);let o=p(!0),r=p("");P(async()=>{try{const a=new URLSearchParams(window.location.search),t=a.get("code"),s=a.get("error");if(s){e(r,`GitHub authentication failed: ${s}`),e(o,!1);return}if(!t){e(r,"No authorization code received from GitHub"),e(o,!1);return}await N.handleGitHubCallback(t),g("/")}catch(a){console.error("GitHub callback error:",a),e(r,a instanceof Error?a.message:"Authentication failed"),e(o,!1)}}),M();var l=B();F(a=>{R.title="Authenticating - LogiScore"});var q=m(l);{var w=a=>{var t=U();i(a,t)},H=a=>{var t=S(),s=$(t);{var G=n=>{var c=j(),v=h(m(c),2),y=m(v,!0);u(v);var A=h(v,2);u(c),z(()=>C(y,f(r))),E("click",A,()=>g("/")),i(n,c)};b(s,n=>{f(r)&&n(G)},!0)}i(a,t)};b(q,a=>{f(o)?a(w):a(H,!1)})}u(l),i(k,l),L()}export{Y as component};
